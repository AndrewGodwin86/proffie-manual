#### TeensySaber {docsify-ignore}
# Wiring Diagrams {docsify-ignore}

## Board Pinout
![TeensySaber Board Pinout](../_media/teensy-board-pinout.png)

**Battery +** – 2.6 to 4.5 volt input, drives everything except the LEDs  
**Battery -** – negative pad for LEDs, needs to be at same level as GND when both are connected  
**GND** – ground for electronics except LEDs. Note that GND is also available on short edge of the teensy (See the teensy pinout for details)  
**Speaker +/-** – hooks up to speaker
**Activation / Aux / Aux2 button** – hook up to closing buttons, or potentially touch buttons  
**Blade ID / Neopixel Data 1** – normally used to measure the blade ID restor, and if it’s a neopixel blade, feed out neopixel data  
**LED 1, 2, 3** – hooks up to negative side of LED (positive side of LED hooks up directly to battery.) These pads can handle
up to 30 volts  
**LED 4, 5, 6** – like LED1/2/3, but requires FETs to be placed on the bottom of the board to function. Voltage is limited by
selection of FETs  
**Power 1, Power 2, Power 3** – these control the FETs which drive LED 1, 2, 3  
**AUX LED 1, 2, 3** – these are hooked up to pads on the bottom which can be populated with FETs and used to drive additional LEDs. If the bottom FETs are not populated, these pins are free and can be used for any purpose  
**RX3, TX3** – these pins are used for wiring a bluetooth module for wireless control or additional Neopixel Data out  
**SDA, SCL** – these pins are used to wire OLED display  
**+3.3V 250mA max** – generated by the Teensy for powering OLED display or Bluetooth module  
**micro USB port** – micro USB port used only for firmware upload and can be used for sound files upload to SD card.  
THIS PORT ISN’T USED FOR CHARGING THE BATTERY!

## Board Assembling
1. **IMPORTANT!**
Cut the tiny trace with a knife between VIN and VUSB as shown.  
Teensy 3.2, bottom view.

2. Solder 2.54mm header pins (gold plated recommended) to TeensySaber V3 board on the top 
or on the bottom depending on where you want to put Teensy 3.2 board.  
(please see next step).

3. Solder Teensy 3.2 board on top:  
(A – micro USB port on top, SD card between boards) or on the bottom (B – SD card on top, micro USB port between boards).
![Solder Teensy 3.2 board on top](../_media/teensy-board-assembly-step3.png)


## Basic Tri-Cree wiring diagram (In-hilt LED)

![Teensy Basic Tri-Cree diagram](../_media/teensy-basic-tri-cree.png)

[LED Resistor Calculator](https://www.thecustomsabershop.com/LedCalc.aspx)
### config.h file setup 

## Basic Neopixel wiring diagram
### config.h file setup 

## Basic Segmented string wiring diagram
### config.h file setup 

## Accent LEDs wiring diagram (optional)

## OLED display wiring diagram (optional)

## Bluetooth module wiring diagram (optional)

### Bluetooth module setup

## Blade ID resistor functions
COMING SOON

## More wiring diagrams

## How to use it
**Blade ignition/retraction** – assuming you have at least one button, pressing it briefly should turn the saber on or off. If you have an AUX button, pressing it briefly should also turn the saber on and off. If you have no buttons, you can turn the saber on and off by twisting your wrist back and forth. Note that the motion has to be done long enough to count, so a very quick flick of the wrist will not work.  
**Turn On muted** – double-click power button  
**Next preset** – while saber is off, click the AUX button  
**Previous preset** – hold AUX button and click the Activation button  
**Trigger Clash** – while saber is on, hit the blade  
**Trigger Lockup** – while saber is on, hold Activation button, then trigger a clash. Lockup releases when you let go of the Activation button  
**Trigger Drag** – like lockup, but point saber mostly down before holding Activation button  
**Trigger Force** – long-click AUX button  
**Start soundtrack** – long-click the Activation button  
**Trigger Blaster Block** – while saber is on, short-click AUX button  

## Serial Monitor Commands
**battery_voltage** – get current battery voltage value   
**get_volume** – get current volume value  
**pow** – power On/Off the saber  
**on** – power On the saber  
**off** – power Off the saber  
**set_volume** <0-3000> – set volume value (example: set_volume 500)  
**play** – play the default preset track, stop playing track while it’s playing  
**play tracks/<track name>** – play a specific track from tracks folder (example: play tracks/venus.wav)  
**force** – play “force” sound effects  
**drag** – play “drag” sound effects  
**blast** – play “blaster” sound effects  
**lock** – play “lockup” sound effects  
**clash** – play “clash” sound effects  
**reset** – reboot the board  
**n** – switch to next preset  
**p** – switch to previous preset  
**list_presets** – show all presets  
**sdtest** – test SD card speed  